{% set name = "async-retriever" %}
{% set version = "0.3.5" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/async_retriever-{{ version }}.tar.gz
  sha256: a511ebb6609a19cc111bd9bb87de3f3aa4a3ada998845dc7c74261e0db8454a8

build:
  number: 1

outputs:
  - name: {{ name }}
    script: {{ PYTHON }} -m pip install . -vv
    requirements:
      build:
        noarch: python
      host:
        - python >=3.8
        - pip
        - setuptools-scm
      run:
        - python >=3.8
        - aiodns
        - aiosqlite
        - aiohttp >=3.8.1
        - brotli
        - cchardet
        - cytoolz
        - nest-asyncio
        - aiohttp-client-cache >=0.7.3
        - ujson
        - cytoolz

    test:
      imports:
        - async_retriever
      commands:
        - pip check
      requires:
        - pip

  - name: async_retriever
    build:
      noarch: python
    requirements:
      run:
        - {{ pin_subpackage('async-retriever', max_pin="x.x.x") }}
    test:
      imports:
        - async_retriever

about:
  home: https://github.com/hyriver/async-retriever
  summary: High-level API for asynchronous requests with persistent caching.
  license: MIT
  license_file:
    - LICENSE

extra:
  recipe-maintainers:
    - cheginit
